"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,s,n){return s&&t(e.prototype,s),n&&t(e,n),e}}(),PomodoroClock=function(){function t(){_classCallCheck(this,t),this.degrees=0,this.minutes=0,this.seconds=0,this.mseconds=0,this.idIntervalMinutes=0,this.idIntervalSeconds=0,this.isOn=!1,this.audio=new Audio("../src/mp3/alarm.mp3"),this.$countdown=$(".countdown"),this.$addMinute=$(".js-plus"),this.$play=$(".js-play"),this.$stop=$(".js-stop"),this.$minusMinute=$(".js-minus"),this.$tomato=$(".tomato")}return _createClass(t,[{key:"setTimer",value:function(t){this.$countdown.text(t+":00")}},{key:"activate",value:function(){this.isOn=!0}},{key:"deactivate",value:function(){this.isOn=!1}},{key:"addMinute",value:function(){var t=this;this.$addMinute.click(function(){!t.isOn&&t.minutes<60&&(t.degrees-=5.9,t.minutes+=1,t.rotate(t.degrees),t.setTimer(t.minutes))})}},{key:"substractMinute",value:function(){var t=this;this.$minusMinute.click(function(){!t.isOn&&t.minutes>0&&t.minutes<60&&(t.degrees+=5.9,t.minutes-=1,t.rotate(t.degrees),t.setTimer(t.minutes))})}},{key:"start",value:function(){var t=this,e=this;this.$play.click(function(){!e.isOn&&e.minutes>0&&e.minutes<60&&(e.hideAddSubButtons(),e.activate(),e.mseconds=6e4*e.minutes,e.seconds=60*e.minutes,e.idIntervalSeconds=setInterval(function(){e.seconds--,e.seconds%60>=10?t.$countdown.text(Math.floor(e.seconds/60)+":"+e.seconds%60):t.$countdown.text(Math.floor(e.seconds/60)+":0"+e.seconds%60),e.degrees+=.0983,e.rotate(e.degrees),e.finish(e.seconds,e.idIntervalMinutes,e.idIntervalSeconds)},1e3),e.idIntervalMinutes=setInterval(function(){e.minutes--,e.setTimer(e.minutes)},6e4))})}},{key:"rotate",value:function(t){this.$tomato.css("-webkit-transform","rotate("+t+"deg)"),this.$tomato.css("-moz-transform","rotate("+t+"deg)"),this.$tomato.css("-ms-transform","rotate("+t+"deg)"),this.$tomato.css("-o-transform","rotate("+t+"deg)"),this.$tomato.css("transform","rotate("+t+"deg)")}},{key:"finish",value:function(t,e,s){0===t&&(clearInterval(e),clearInterval(s),this.soundAlarm(),this.restartValues())}},{key:"stop",value:function(){var t=this;this.$stop.click(function(){t.isOn&&(clearInterval(t.idIntervalMinutes),clearInterval(t.idIntervalSeconds),t.restartValues(),t.soundAlarm())})}},{key:"soundAlarm",value:function(){this.audio.play()}},{key:"restartValues",value:function(){this.minutes=0,this.seconds=0,this.mseconds=0,this.degrees=0,this.rotate(this.degrees),this.hideAddSubButtons(),this.deactivate(),this.setTimer(this.minutes)}},{key:"hideAddSubButtons",value:function(){this.isOn?$(".js-minus,.js-plus").fadeIn():$(".js-minus,.js-plus").fadeOut()}}]),t}();$(function(){var t=new PomodoroClock;t.addMinute(),t.start(),t.stop(),t.substractMinute()});